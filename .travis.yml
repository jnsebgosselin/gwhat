# https://travis-ci.org/jnsebgosselin/WHAT

language: python
python: "3.6"

before_install:
  - sudo apt-get update

install:
  - # 5.10 is giving segfaults while collecting tests
  - pip install -q pyqt5==5.9.2
  - sudo apt-get install cython3
  - sudo apt-get install libhdf5-dev
  - pip install h5py
  - pip install xlsxwriter
  - pip install xlrd
  - pip install xlwt
  - pip install pytest
  - pip install pytest-qt
  - pip install pytest-xvfb
  - pip install pytest-mock
  - pip install pytest-cov
  - pip install pytest-ordering
  - pip install flaky
  - pip install matplotlib
  - pip install scipy
  - pip install cython
  - pip install requests
  - pip install coveralls
  - python setup.py build_ext --inplace

script:
  python runtests.py
  
after_success:
 - coveralls
